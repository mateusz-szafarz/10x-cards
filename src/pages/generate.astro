---
import AppLayout from '../layouts/AppLayout.astro';
import { GenerateView } from '../components/generation/GenerateView';

// User is guaranteed to exist by middleware for protected pages
const user = Astro.locals.user;
if (!user) {
  return Astro.redirect('/login');
}
---

<AppLayout title="Generate Flashcards - 10x Cards" user={user} currentPath="/generate">
  <GenerateView client:load />
</AppLayout>
